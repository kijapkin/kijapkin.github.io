!function(t){var e={};function s(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(o,r,function(e){return t[e]}.bind(null,r));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){t.exports=s(1)},function(t,e){!function(t){class e{constructor(e,s={}){this.$el=e,this.settings=t.extend({provider:"youtube",videoid:"",source:"",type:"video/mp4",poster:"",log:!1,api:{url:"https://you-link.herokuapp.com/",param:"?url=https://www.youtube.com/watch?v="},attrs:{muted:!0,autoplay:!0,loop:!0},classes:{container:{wrapper:"videohero videohero-wrapper",preparing:"preparing",ready:"ready",error:"error",provider:"videohero-provider-"},video:"videohero-element",buttons:{mute:{self:"videohero-mute-button",on:"sound-off",off:"sound-on"}}},i18n:{mute:"Sound off",unmute:"Sound on"}},s),this.log("VideoHero has successfully initialized with the following configuration:"),this.log(this.settings),this.generate()}isJson(t){t="string"!=typeof t?JSON.stringify(t):t;try{t=JSON.parse(t)}catch(t){return!1}return"object"==typeof t&&null!==t}get api_url(){return this.settings.api.url+this.settings.api.param+this.settings.videoid}log(t){this.settings.log&&("object"==typeof t?console.log(t):console.log("[VideoHero] "+t))}error(t){this.settings.log&&("object"==typeof t?console.error(t):console.error("[VideoHero] "+t))}getDataFromEl(){var e=this.$el,s=this.settings;t.each(this.settings,function(t,o){e.is("[data-"+t+"]")&&(s[t]=e.data(t))}),this.settings=s,""===this.settings.poster&&"youtube"===this.settings.provider&&(this.settings.poster="https://i.ytimg.com/vi/"+this.settings.videoid+"/maxresdefault.jpg")}setSourcesFromYoutube(e){var s=this;this.log("Starting extraction of YouTube sources."),t.ajax({method:"POST",url:this.api_url}).done(function(o){o.length>0?void 0===o[0].error?(s.log("Complete extraction. "+o.length+" sources were found."),s.log(o),t.each(o,function(s,o){e.append(t("<source></source>").attr("src",o.url).attr("type",o.type))})):(s.log("API error: "+o[0].reason),s.log(s.api_url)):s.log("No sources found for this video.")}).fail(function(){s.error("The extraction of sources has failed. Verify the API address: "+this.api_url)})}setSourcesFromCustom(e){""!==this.settings.source&&(this.isJson(this.settings.source)?t.each(this.settings.source,function(s,o){var r=void 0!==o.source&&o.source,i=void 0!==o.type&&o.type;if(r){var n=t("<source></source>").attr("src",r);i&&n.attr("type",i),e.append(n)}}):e.append(t("<source></source>").attr("src",this.settings.source).attr("type",this.settings.type)))}generateWrapperTag(){this.getDataFromEl();var t="";t+=this.settings.classes.container.wrapper,t+=" "+this.settings.classes.container.preparing,t+=" "+this.settings.classes.container.provider+this.settings.provider,this.$el.addClass(t),this.$el.css("background-image","url("+this.settings.poster+")"),this.log("Wrapper generated successfully.")}generateMuteButton(){return t("<button></button>").addClass(this.settings.classes.buttons.mute.self).addClass(this.settings.classes.buttons.mute.off).attr("aria-label",this.settings.i18n.mute)}generateVideoTag(){var e=t("<video></video>").addClass(this.settings.classes.video);return t.each(this.settings.attrs,function(t,s){"autoplay"===t&&(s="",e.attr("plays-inline",s).attr("playsinline",s)),"loop"===t&&(s=""),e.attr(t,s)}),e.attr("poster",this.settings.poster),this.log("Video Tag generated successfully."),e}toggleMute(t,e,s=!1){void 0!==t.get(0).muted&&(!t.get(0).muted||s?(t.get(0).muted=!0,e.removeClass(this.settings.classes.buttons.mute.on).addClass(this.settings.classes.buttons.mute.off).attr("aria-label",this.settings.i18n.mute)):(t.get(0).muted=!1,e.removeClass(this.settings.classes.buttons.mute.off).addClass(this.settings.classes.buttons.mute.on).attr("aria-label",this.settings.i18n.unmute)))}generate(){this.generateWrapperTag();var e=this.generateVideoTag(),s=this.generateMuteButton();"youtube"===this.settings.provider.toLowerCase()?this.setSourcesFromYoutube(e):"custom"===this.settings.provider.toLowerCase()&&this.setSourcesFromCustom(e),t(e).children().length,this.$el.removeClass(this.settings.classes.container.preparing).addClass(this.settings.classes.container.ready),this.settings.attrs.muted&&this.toggleMute(e,s,!0);var o=this;if(t(s).on("click",function(){o.toggleMute(e,s)}),this.settings.attrs.autoplay){var r=e.get(0).play();void 0!==r&&r.then(t=>{this.log("Playing video successfully.")}).catch(t=>{this.error("The video could not be played.")})}this.$el.html(e),this.$el.prepend(s),this.log("Injection of the video complete.")}}t.fn.videohero=function(s){return this.each(function(){new e(t(this),s)})}}(jQuery)}]);
